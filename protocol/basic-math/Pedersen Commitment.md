## Pedersen Commitment

基于离散对数，将任意长度的向量编码为单一的椭圆曲线的点，这个点可以公开，但不泄漏向量本身的信息。

### 原理：

**选择生成器和随机数**:

- 选择一个大的素数 p 和一个群 G ，该群的阶为 p，并且选定两个生成元 g 和 h，它们都是 G 的生成元。
- 选择一个私密值 v（要承诺的值），以及一个随机数 r 作为隐藏因子。

**计算承诺值**:

- 承诺值 C 计算公式为：

$$
C=g^v⋅h^r
$$

其中，g^v 是与实际值 v 相关的部分，h^r 则是为掩盖该值而加入的随机性。

**公开承诺值**:

- 将计算出的 C 公开，作为对 v 的承诺。这一过程不会透露 v 的信息，因为 r 的存在使得即使知道 C也无法反推出 v。

**验证承诺**:

- 在将来揭示承诺时，承诺者需要公布 v 和 r。
- 验证者通过检验是否满足 C=g^v ⋅ h^r来验证承诺的正确性。



缺点：

1. **不能打开**：一旦承诺生成，承诺者无法在不暴露随机数 r 的情况下打开承诺。
2. **安全性依赖于离散对数问题**： 如果攻击者能够解决离散对数问题，就可以破解 Pedersen commitments。

特点

- **隐私性**: 在承诺阶段，承诺值 C不会透露承诺的实际值 v。

- **绑定性**: 承诺一旦做出，承诺者无法在不被发现的情况下更改承诺内容。

- **同态性**: Pedersen Commitment 具有同态性，即两个承诺的乘积等于它们对应值的和的承诺。具体表现为：
  $$
  C1⋅C2=g^v1⋅h^r1⋅g^v2⋅h^r2=g^{v1+v2}⋅h^{r1+r2}
  $$
   这种性质在许多加密协议中非常有用，特别是在需要对承诺值进行加法运算的场景中。


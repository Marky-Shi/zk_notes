## R1CS && Plonkish

### 定义

R1cs

R1cs Rank-1-constraint System，在零知识证明系统中表示计算约束的方式，将现实问题转换为一系列的线性约束。

a(x) * b(x) = c(x) 

其中：a(x)  b(x)  c(x)变量的向量函数，a、b、c表示这个约束的左右输入以及输出。这种表示方式可以用于验证某个计算是否正确执行，而无需知道输入的具体值，通过多个这样的约束，R1CS 能够定义任意代数电路的行为。

Plonkish

Plonkish 是以 **Plonk** 为代表的一类零知识证明系统中的约束描述方式，广义上称为 **Arithmetic Intermediate Representation (AIR)** 或 **PLONK-like constraints**。

Plonkish 的约束形式基于多项式，如：

* 范围证明
* 轨迹多项式

使用多项式承诺来验证约束关系，能够更高效地支持更复杂的代数逻辑。



### 表达能力来看

**R1CS**

​	•**结构化强**：R1CS 强调通过线性组合来构造约束。

​	•**低灵活性**：仅适用于线性约束（乘积后相等），复杂操作（如非线性函数）需要通过手动分解转化为基本线性操作，导致电路较大。

​	•**电路等价性**：R1CS 表达的每个约束直接对应电路的一个节点或操作。



**Plonkish**

​	•**灵活性高**：支持任意多项式约束，无需严格限制为线性乘积。

​	•**更紧凑的约束**：Plonkish 可以利用多项式分段表达复杂逻辑，减少约束总数。

### 工作机制

**R1cs**

* 将问题分解为基本的线性约束，每个约束都必须得到满足，且需要单独验证
* 使用 **QAP (Quadratic Arithmetic Program)** 将 R1CS 转化为用于证明的多项式表示。
* 证明过程需要对每个变量及约束单独计算。

**Plonkish**

* 使用多项式承诺系统（如 Kate 承诺）来压缩和验证约束。
* 约束通过多项式的根性验证（即证明多项式在某些点上的值符合约束条件）。
* 证明过程需要对每个变量及约束单独计算。





